<div class="page-header section-gap">
  <div>
    <div class="page-title">Dashboard</div>
    <div class="page-subtitle">System overview, analytics and key metrics</div>
  </div>
</div>
<section class="admin-hero section-gap">
  <div class="hero-header">
    <div class="hero-title">Administration Système - AgriSmart</div>
  </div>

  <div class="hero-kpis main-kpis">
    <div class="hero-kpi-card" *ngFor="let metric of mainCards" [class]="metric.tone">
      <span class="material-symbols-outlined hero-kpi-icon">{{ metric.icon }}</span>
      <div class="hero-kpi-value">{{ metric.value }}</div>
      <div class="hero-kpi-label">{{ metric.label }}</div>
    </div>
  </div>

  <div class="hero-kpis secondary-kpis">
    <div class="hero-kpi-card secondary" *ngFor="let metric of secondaryCards" [class]="metric.tone">
      <span class="material-symbols-outlined hero-kpi-icon">{{ metric.icon }}</span>
      <div class="hero-kpi-value">{{ metric.value }}</div>
      <div class="hero-kpi-label">{{ metric.label }}</div>
    </div>
  </div>
</section>





<div class="grid-2 section-gap">
  <div class="card">
    <div class="card-title">Répartition des rôles (chart)</div>
    <div class="role-bars-wrap">
      <div class="role-bars-grid">
        <div class="role-bar-column" *ngFor="let item of roleBarChartStats">
          <div class="role-bar-track">
            <div class="role-bar-fill" [style.height.%]="getRoleBarHeight(item.count)"></div>
          </div>
          <div class="role-bar-label">{{ item.name }}</div>
          <div class="role-bar-value">{{ item.count }}</div>
        </div>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-title">Nouveaux utilisateurs (7 jours)</div>
    <div class="role-bars-wrap">
      <div class="role-bars-grid users-bars-grid">
        <div class="role-bar-column" *ngFor="let item of signupTrendLast7Days">
          <div class="role-bar-track users-bar-track">
            <div class="role-bar-fill users-bar-fill" [style.height.%]="item.height"></div>
          </div>
          <div class="role-bar-label">{{ item.label }}</div>
          <div class="role-bar-value">{{ item.count }}</div>
        </div>
      </div>
    </div>
  </div>
</div>


